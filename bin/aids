#!/usr/bin/env python3

import functools
import itertools
import re
import sys

import numpy as np

aid_line = re.compile(r'(APP|PKG|ISD|Applet):\s*(?P<aid>[a-zA-Z0-9]*)')


def bxor(a, b):
    # kudos to: https://stackoverflow.com/a/23313121/2377489
    a = np.fromstring(a, dtype='uint8')
    b = np.fromstring(b, dtype='uint8')

    return (a ^ b).tostring()


aids = []
for line in sys.stdin:
    match = aid_line.match(line)
    if match is not None:
        aids.append(match.group('aid'))

aids = [bytes.fromhex(x) for x in aids]
print(aids)

new_aid = functools.reduce(bxor, aids)
